<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    <section name="resolver" type="Nepos.Infra.CrossCutting.Configuration.ConfigSectionHandler, Nepos.Infra.CrossCutting.Configuration" />
    <section name="Logger" type="Nepos.Infra.CrossCutting.Configuration.ConfigSectionHandler, Nepos.Infra.CrossCutting.Configuration" />
  </configSections>
  <appSettings>
    <add key="urlPortalConveniado" value="http://engenhos.com.br:4400" />
    <add key="urlCaixaInformatizado" value="http://engenhos.com.br:4450" />	
    <add key="urlOdata" value="http://*:9091/" />
    <add key="urlAuthority" value="http://engenhos.com.br:44330" />
    <add key="redirectUris" value="" />
    <add key="postLogoutRedirectUris" value="" />
    <add key="urlLogout" value="" />
    <add key="urlOdataReverseProxy" value="http://engenhos.com.br:9081/" />
    <add key="urlWebApi" value="http://*:9090/" />
    <add key="urlWebApiReverseProxy" value="http://engenhos.com.br:9080/" />
    <add key="urlLicenciamentoWebApi" value="http://engenhos.com.br:9093/" />
    <add key="tempoDW" value="300000" />
	<add key="urlNeposLPR" value="http://engenhos.com.br:9094" />
    <add key="urlAuth" value="http://*:44330/" />
    <add key="urlSite" value="http://engenhos.com.br:4200" />
    <add key="urlMonitoramentoBarramento" value="http://engenhos.com.br:9092/" />
    <add key="urlPlugin" value="http://localhost:9092" />
    <add key="urlInformatizado" value="http://localhost:8989" />
	<add key="urlNeposLPR" value="http://engenhos.com.br:9094" />
	<add key="urlAutorizacaoNFCe" value="http://engenhos.com.br:8732/LuminusNFCeService/Rest/" />
    <add key="urlSyncParkWebApi" value="http://engenhos.com.br:30411" />
    <add key="urlOpngoWebApi" value="http://engenhos.com.br:30401" />
    <add key="tipoOsa" value="VELOE" />
    <!--OPNGO | VELOE | SEMPARAR | CONECTCAR-->
    <add key="loteEstacionamento" value="2456" />
    <add key="TipoLeitor" value="LPR" />
    <!--TIPOS: LPR e SLT-->

	<!--FAKE | VIRDI | HAMSTERDX-->
	<add key="TipoLeitorBiometrico" value="VIRDI" />

    <add key="urlOdataReverseProxyRedirectUrl" value="http://engenhos.com.br:9091" />
    <add key="urlWebApiReverseProxyRedirectUrl" value="http://engenhos.com.br:9090" />

    <add key="portaIntPDV" value="63767" />
	<add key="portaNFCe" value="54321" />
    <add key="ipServidorPagamento" value="192.168.10.210" />
    <add key="portaServidorPagamento" value="5061" />

    <add key="ipServidorLeitor" value="192.168.10.60" />
    <add key="portaServidorLeitor" value="7050" />
    <add key="portaServidorLeitorStatus" value="9090" />
    <add key="TempoTimeoutSocketEmSegundos" value="3600" />
    <add key="TarifadorLuminus" value="False" />
	
	<!--Tempo de timeout para cancelar requisições-->
	<add key="TimeoutM112" value=""/>
	<!--Em segundos 1000 = 1 seg-->

    <!--PARÂMETROS REFERENTE AO SERVIÇO DE MENSAGERIA VELOE-->
    <!--<add key="URLMQ" value="internal-veloehmle-loadbala-1gvz4j4zrn9ph-1527566666.us-east-1.elb.amazonaws.com:61616" />-->
    <add key="URLMQ" value="localhost:61616" />
    <add key="NomeClienteOsa" value="NEPOSOFUTUROHOJE" />
    <add key="IDClienteOsa" value="1010" />
    <add key="IDOsa" value="5" />
    <add key="UsuarioMQ" value="admin" />
    <add key="SenhaMQ" value="dp3Vk^6CJS5MdeF#KM*J" />
    <add key="TempoSincronismoTransacoesFilaMQ" value="10" />
    <add key="TempoSincronismoTransacoesProcessadasFilaMQ" value="10" />
    <add key="TempoSincronismoMensagemTagFilaMQ" value="10" />
    <add key="TempoSincronismoSequencialTagFilaMQ" value="10" />
    <add key="TempoSincronismoTelemetriaFilaMQ" value="15" />
    <add key="TempoMonitoramentoStatusMQ" value="45" />
    <add key="TempoReprocessamentoTransacaoMQ" value="300" />
    <add key="AreaAcessoVeloe" value="1" />
    <add key="IgnorarPuloSequencial" value="1" />
    <add key="HabilitarLogsEventosEquipamentos" value="False" />


    <!--PARÂMETORS PARA CONFIGURAÇÃO DO SERVICO JAVA AMQ-->
    <add key="CaminhnoAMQJavaService" value=".\AMQJavaService.jar" />
    <add key="PortaAMQJavaService" value="9099" />
    <add key="PortaBancoAutorizadorAcesso" value="1433" />
    <!--=================================================================================================================-->

    <add key="urlConectCarWS" value="http://192.168.49.175/conectpark_api/index.php" />
    <add key="usuarioConectCar" value="conectcar" />
    <add key="senhaConectCar" value="c0n3ctc4r" />
    <add key="ipSocketConectCar" value="192.168.49.175" />
    <add key="portaSocketConectCar" value="5180" />

    <add key="urlSemPararWS" value="http://monitoramento.viafacil.com.br/nepos/wsIntegracao.asmx/" />
    <add key="usuarioSemParar" value="nepos" />
    <add key="senhaSemParar" value="123456" />

    <add key="serverIpCalcStay" value="engenhos.com.br" />
    <add key="serverPortCalcStay" value="53001" />

    <add key="7ZipExecutablePath" value="C:\Program Files\7-Zip\7zG.exe" />
    <add key="TempoConexaoSocketEmSegundos" value="30" />
    <add key="TempoEnvioHeartBeat" value="5" />
    
    <add key="IpConectarSocket" value="192.168.43.210" />
    <add key="IdConectarSocket" value="76" />
    
    <add key="ClientSettingsProvider.ServiceUri" value="" />
    <add key="UrlDirectoryBrowsing" value="true" />

    <add key="TempoEmSegundosParaExpirarMensagemPendente" value="10" />
    <add key="HabilitarProcessadorDeMensagemPendente" value="True" />
    <add key="HabilitarParalelismoProcessadorMensagemPendente" value="False" />
    <add key="TamanhoDoBlocoParaProcessamentoDeMensagemPendente" value="200" />
    <add key="GerarMidiaMifareECodigoBarrasParaConectCarImportado" value="True" />

    <!--Spacenet = 1 | Luminus = 2-->
    <add key="DestinoMensagensRecebidas" value="2" />
    <add key="TempoEnvioPushEmSegundos" value="10" />
    <add key="TimeoutHeartbeat" value="90" />
    <add key="TimeoutVerificarConectividadeEquipamentos" value="10" />
	
	<!-- Para Luminus Cloud. Caso for estacionamento local a configuração deve ser:  
		HabilitarValidacaoCentral = True
		HabilitarInstanciaCentral = True
		IsCloud = False
	-->

    <add key="ExecutionInterval" value="5000" />
    <add key="TasksPath" value=".\Tasks" />
	<add key="SchedulerAguardarTarefasAoFechar" value="true" />

    <!-- Dw -->
    <add key="DwModoExecucao" value="2" /> <!-- 0 recuperacao, 1 loop, 2 loop com janela -->

    <add key="DwLoopRecarga" value="30" /> <!-- tempo entre processos em minutos, 15-720 minutos -->
    <add key="DwLoopMaximoErros" value="3" /> <!-- maximo de erros para encerrar o loop, 0-10 erros -->

    <add key="DwJanelaInicio" value="1" /> <!-- hora da abertura da janela, formato 24h -->
    <add key="DwJanelaDuracao" value="420" /> <!-- duracao da janela em minutos, 60-720 minutos -->

    <add key="DwModoRecuperacaoDimensoes" value="0" /> <!-- 0 tudo, 1 tempo, 2 sinteticas, 3 nao dependentes, 4 estacionamento, 5 dependentes -->
    <add key="DwModoRecuperacaoFatos" value="0" /> <!-- 0 tudo, 1 contratos, 2 estadias, 3 eventos, 4 fatura, 5 faturaformapagto, 6 eventos sistema, 7 eventos operacionais, 8 pedidosselosdesconto, 9 selosdesconto -->
    <add key="DwModoRecuperacaoAtraso" value="0" /> <!-- tempo em dias para retroagir no modo recuperacao -->

    <add key="DwTimeoutDimensoes" value="600" /> <!-- tempo em timeout para dimensoes -->
    <add key="DwTimeoutFatos" value="600" /> <!-- tempo em timeout para fatos -->

  </appSettings>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.6.1" />
  </startup>


  <!--Configuracoes do APP -->
  <resolver AssemblyName="Nepos.Infra.CrossCutting.IoC" Type="Nepos.Infra.CrossCutting.IoC.NInjectResolver" />
  <Logger AssemblyName="Nepos.Infra.CrossCutting.Logging.Log4Net" Type="Nepos.Infra.CrossCutting.Logging.Log4Net.Log4netLogger" />

  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework" />
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>
  <connectionStrings>
    <!--O LOGIN E SENHA DEVEM SER 'sa' 'spnsw2002'-->
    <add name="Luminus" connectionString="Data Source=EngenhosSqlServer;Initial Catalog=EngenhosDatabase;User ID=EngenhosUserDatabase;Password=YHHasudhuueyYUEyuashd%1" providerName="System.Data.SqlClient" />
    <add name="LuminusDWDatabaseContext" connectionString="Data Source=EngenhosSqlServer;Initial Catalog=EngenhosDatabaseInterno;User ID=UserSistemaEngenhos;Password=ASDyhuas878s##1" providerName="System.Data.SqlClient" />
    <add name="Spacenet" connectionString="Data Source=EngenhosSqlServer;Initial Catalog=Spacenet;Pooling=False;User ID=sa;Password=spnsw2002" providerName="System.Data.SqlClient" />
    <add name="Licenciamento" connectionString="Data Source=EngenhosSqlServer;Initial Catalog=Licenciamento;User ID=sa;Password=spnsw2002" providerName="System.Data.SqlClient" />
    <add name="IdSvr3Config" connectionString="server=(localdb)\mssqllocaldb;database=NeposIdentityServer;trusted_connection=yes" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <log4net>
    <root>
      <level value="ALL" />
      <appender-ref ref="MyFileAppender" />
      <appender-ref ref="ConsoleAppender" />
    </root>
    <appender name="MyFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="Log\Nepos.Core.Server." />
      <datePattern value="dd.MM.yyyy'.log'" />
      <appendToFile value="true" />
      <staticLogFileName value="false" />
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
      <rollingStyle value="Composite" />
      <maxSizeRollBackups value="40" />
      <maximumFileSize value="100MB" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date|%level|%thread|%logger|%message%newline" />
      </layout>
    </appender>
    <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />
      </layout>
    </appender>
  </log4net>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Ninject.Extensions.Factory" publicKeyToken="c7192dc5380945e7" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.0.0" newVersion="3.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Ninject" publicKeyToken="c7192dc5380945e7" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.4.0" newVersion="3.3.4.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Ninject.Web.Common" publicKeyToken="c7192dc5380945e7" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.1.0" newVersion="3.3.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Ninject.Extensions.Interception" publicKeyToken="c7192dc5380945e7" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.3.0" newVersion="3.3.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-13.0.0.0" newVersion="12.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Cors" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http.WebHost" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http.Owin" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Net.Http.Formatting" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.IdentityModel.Tokens.Jwt" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <codeBase version="5.1.4" href="System.IdentityModel.Tokens.Jwt.dll" />
        <codeBase version="4.0.20622.1351" href="System.IdentityModel.Tokens.Jwt.v4\System.IdentityModel.Tokens.Jwt.dll" />
        <bindingRedirect oldVersion="0.0.0.0-5.1.4" newVersion="5.1.4" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.20622.1351" newVersion="4.0.20622.1351" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.OAuth" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.Jwt" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.IdentityModel.Protocol.Extensions" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.0.40306.1554" newVersion="1.0.40306.1554" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.DependencyInjection.Abstractions" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.1.1.0" newVersion="1.1.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="AutoMapper" publicKeyToken="be96cd2c38ef1005" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.1.1.0" newVersion="6.1.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.IdentityModel.Logging" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.1.4.0" newVersion="1.1.4.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.OData.Core" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-7.2.0.0" newVersion="7.2.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.OData.Edm" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-7.2.0.0" newVersion="7.2.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.DependencyInjection" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.1.1.0" newVersion="1.1.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Spatial" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-7.2.0.0" newVersion="7.2.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="log4net" publicKeyToken="669e0ddf0bb1aa2a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.0.8.0" newVersion="2.0.8.0" />
      </dependentAssembly>
      <probing privatePath="Tasks" />
	  <dependentAssembly>
		 <assemblyIdentity name="System.Threading.Tasks.Extensions" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
		 <bindingRedirect oldVersion="0.0.0.0-4.2.0.1" newVersion="4.2.0.1" />
	  </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System" publicKeyToken="b77a5c561934e089" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.ServiceProcess" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Xml" publicKeyToken="b77a5c561934e089" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Data" publicKeyToken="b77a5c561934e089" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Core" publicKeyToken="b77a5c561934e089" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Configuration" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Ninject.Web.Common.OwinHost" publicKeyToken="c7192dc5380945e7" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.1.0" newVersion="3.3.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="EntityFramework" publicKeyToken="b77a5c561934e089" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Castle.Core" publicKeyToken="407dd0808d44fbdc" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Net.Http" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.2.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Runtime.CompilerServices.Unsafe" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.5.0" newVersion="4.0.5.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.web>
    <membership defaultProvider="ClientAuthenticationMembershipProvider">
      <providers>
        <add name="ClientAuthenticationMembershipProvider" type="System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" />
      </providers>
    </membership>
    <roleManager defaultProvider="ClientRoleProvider" enabled="true">
      <providers>
        <add name="ClientRoleProvider" type="System.Web.ClientServices.Providers.ClientRoleProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" cacheTimeout="86400" />
      </providers>
    </roleManager>
  </system.web>
</configuration>